import{u as x,r as i,a as B,b as R,c as F,d as U,n as z,_ as m,j as e,R as T,I as k,L as _,e as M,g as V,f as q,h as O,i as W,k as I,l as H,m as N,S as b,o as Y}from"./app-UVgB9Xq9.js";const ke=async()=>{const a=x();try{return(await a.get("get-countries")).data}catch(s){return console.error("Error fetching data:",s),null}},we=async a=>{const s=x();try{return(await s.post("add-promotion",a,{headers:{"content-type":!1,"mime-type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch{return null}},Se=async a=>{const s=x();try{return(await s.post("update-promotion",a,{headers:{"content-type":!1,"mime-type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch{return null}},Ie=async(a="all")=>{const s=x();try{return(await s.get(`get-all-promotions/${a}`)).data}catch{return null}},_e=async a=>{const s=x();try{return(await s.get(`get-promotion-by-id/${a}`)).data}catch{return null}},Ce=async a=>{const s=x();try{return(await s.delete(`delete-promotion/${a}`)).data}catch{return null}},G=async a=>{const s=x();try{return(await s.post("add-broker",a,{headers:{"content-type":!1,"mime-type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch{return null}},Q=async a=>{const s=x();try{return(await s.post("update-broker",a,{headers:{"content-type":!1,"mime-type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch{return null}},Z=async(a="all")=>{const s=x();try{return(await s.get(`get-all-brokers/${a}`)).data}catch{return null}},J=async a=>{const s=x();try{return(await s.get(`get-broker-by-id/${a}`)).data}catch{return null}},K=async a=>{const s=x();try{return(await s.delete(`delete-broker/${a}`)).data}catch{return null}},Be=async a=>{const s=x();try{return(await s.post("add-slider",a,{headers:{"content-type":!1,"mime-type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch{return null}},Ee=async a=>{const s=x();try{return(await s.post("update-slider",a,{headers:{"content-type":!1,"mime-type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch{return null}},Ae=async()=>{const a=x();try{return(await a.get("get-all-sliders")).data}catch{return null}},De=async a=>{const s=x();try{return(await s.get(`get-slider-by-id/${a}`)).data}catch{return null}},$e=async a=>{const s=x();try{return(await s.delete(`delete-slider/${a}`)).data}catch{return null}},X=async a=>{const s=x();try{return(await s.post("add-news",a,{headers:{"content-type":!1,"mime-type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch{return null}},ee=async a=>{const s=x();try{return(await s.post("update-news",a,{headers:{"content-type":!1,"mime-type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch{return null}},se=async()=>{const a=x();try{return(await a.get("get-all-news")).data}catch{return null}},ae=async a=>{const s=x();try{return(await s.get(`get-news-by-id/${a}`)).data}catch{return null}},te=async a=>{const s=x();try{return(await s.get(`get-user/${a}`)).data}catch{return null}},le=async a=>{const s=x();try{return(await s.delete(`delete-news/${a}`)).data}catch{return null}},Le=async a=>{const s=x();try{return(await s.get("get-clients")).data}catch{return null}},ne=async()=>{const a=x();try{return(await a.get("get-ib-requests")).data}catch{return null}},A=async a=>{const s=x();try{return(await s.get(`approve-request/${a}`)).data}catch{return null}},re=async a=>{const s=x();try{return(await s.get("get-introducing-brokers")).data}catch{return null}},D=()=>{i.useState([]);const[a,s]=i.useState(null),t=B(),d=R(),l=d.pathname.includes("edit-news"),r=F();i.useEffect(()=>{l&&S()},[]);const j={title:"",status:0,feature:!1,image:null,body:""};i.useEffect(()=>{w()},[d.pathname]);const{formik:g,setFieldValue:h,values:u,handleChange:y,touched:n,errors:c,handleSubmit:v,resetForm:w}=U({initialValues:j,validationSchema:z,onSubmit:async o=>{m.loading("Createing News");var f=new FormData;f.append("title",o.title),f.append("status",o.status),f.append("id",t.id),f.append("image",o.image),f.append("feature",o.feature),f.append("body",o.body);let E;l?E=await ee(f):E=await X(f),m.dismiss(),E.status==200?(m.success(`News ${l?"Updated":"Created"}`),r("/adminpanel/manage-news")):m.error(E.response.data.message)}}),S=async()=>{m.loading("Loading news");let o=await ae(t==null?void 0:t.id);m.dismiss(),o?(h("title",o.title),h("status",o.status),h("image",o.image),h("body",o.body),h("feature",o.feature)):(m.error("News Not found"),r("/adminpanel/manage-news"))},C=o=>{const f=URL.createObjectURL(o.target.files[0]);s(f),h("image",o.target.files[0])};console.log("erros",c);const p=o=>{console.log(o),h("body",o)};return e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx("div",{class:"col-md-12",children:e.jsx("div",{class:"page-header-title",children:e.jsxs("h2",{class:"mb-5",children:[l?"Edit":"Add"," News"]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"form-label",htmlFor:"inputEmail4",children:"Title"}),e.jsx("input",{type:"text",name:"title",value:u.title,className:`form-control ${c.title&&n.title&&"is-invalid"}`,id:"inputEmail4",placeholder:"title",onChange:y}),c.title&&n.title&&e.jsx("p",{className:"invalid-feedback",children:c.title})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"form-label",htmlFor:"inputState",children:"Status"}),e.jsxs("select",{name:"status",onChange:y,value:u.status,className:"form-select",children:[e.jsx("option",{value:1,children:"Active"}),e.jsx("option",{value:0,children:"Draft"})]})]}),e.jsxs("div",{className:"form-group col-md-12",children:[e.jsx("label",{className:"form-label",htmlFor:"inputPassword4",children:"News Content"}),e.jsx(T,{name:"body",onChange:p,className:`form-control p-0 ${c.body&&n.body&&"is-invalid"}`,id:"inputPassword4",placeholder:"News body",value:u.body||"",style:{minHeight:"300px"}}),c.body&&n.body&&e.jsx("p",{className:"invalid-feedback",children:c.body})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group ",children:[e.jsxs("label",{className:"btn btn-outline-secondary",htmlFor:"flupld",children:[e.jsx("i",{className:"ti ti-upload me-2"})," Click to Upload"]}),e.jsx("input",{onChange:C,type:"file",id:"flupld",className:`d-none ${c.image&&n.image&&"is-invalid"}`}),c.image&&n.image&&e.jsx("p",{className:"invalid-feedback",children:c.image})]})}),(a||u.image)&&e.jsx("div",{className:"col-auto ",children:e.jsx("img",{src:a||k+u.image,alt:"user-image",className:"wid-150 rounded"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"form-label",htmlFor:"inputState",children:"Check to Feature on homepage"}),e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"gridCheck",name:"feature",checked:u.feature,onChange:()=>{h("feature",!u.feature)}}),e.jsx("label",{className:"form-check-label",htmlFor:"gridCheck",children:"Feature"})]})]})}),e.jsxs("button",{onClick:v,type:"submit",className:"btn btn-primary",children:[l?"Update":"Create","  News"]})]})})})]})})},ie=()=>{const[a,s]=i.useState([]),t=async()=>{let l=await se();s(l)};i.useEffect(()=>{t()},[]);const d=async l=>{le(l==null?void 0:l.id),t(),m.success("News deleted")};return e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-sm-12",children:[e.jsx("div",{class:"page-header-title",children:e.jsx("h2",{class:"mb-5",children:"Manage News"})}),e.jsx("div",{className:"card table-card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"text-end p-4 pb-sm-2",children:e.jsxs(_,{to:"/adminpanel/add-slider",className:"btn btn-primary",children:[e.jsx("i",{className:"ti ti-plus f-18"})," Add News"]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",id:"pc-dt-simple",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-end",children:"#"}),e.jsx("th",{children:"News Title"}),e.jsx("th",{children:"Feature"}),e.jsx("th",{className:"",children:"Slug"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:a&&a.map((l,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-end",children:l.id}),e.jsx("td",{children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-auto pe-0",children:e.jsx("img",{src:k+l.image,alt:"user-image",style:{width:"200px"},className:"wid-40 rounded"})}),e.jsx("div",{className:"col",children:e.jsx("h6",{className:"mb-1",children:l.title})})]})}),e.jsx("td",{children:l.feature?"Featured":"Not Featured"}),e.jsx("td",{children:l.slug}),e.jsxs("td",{children:[e.jsx("span",{className:`badge bg-light-${l.status==0?"danger":"success"}  f-12`,children:l.status==0?"Draft":"Active"})," "]}),e.jsx("td",{className:"text-center",children:e.jsxs("ul",{className:"list-inline me-auto mb-0",children:[e.jsx("li",{className:"list-inline-item align-bottom","data-bs-toggle":"tooltip",title:"Edit",children:e.jsx(_,{to:`/adminpanel/edit-news/${l.id}`,className:"avtar avtar-xs btn-link-success btn-pc-default",children:e.jsx("i",{className:"ti ti-edit-circle f-18"})})}),e.jsx("li",{onClick:()=>{d(l)},className:"list-inline-item align-bottom","data-bs-toggle":"tooltip",title:"Delete",children:e.jsx("a",{className:"avtar avtar-xs btn-link-danger btn-pc-default",children:e.jsx("i",{className:"ti ti-trash f-18"})})})]})})]},r))})]})})]})})]})})},ce=()=>{var l,r,j,g;const a=B(),[s,t]=i.useState(null);i.useEffect(()=>{d()},[]);const d=async()=>{let h=await te(a==null?void 0:a.id);console.log(h),h.data&&t(h.data)};return e.jsx("div",{className:"tab-pane show active",id:"profile-1",role:"tabpanel","aria-labelledby":"profile-tab-1",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-4 col-xxl-3",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body position-relative",children:e.jsxs("div",{className:"text-center mt-3",children:[e.jsx("div",{className:"chat-avtar d-inline-flex mx-auto",children:e.jsx("img",{className:"rounded-circle img-fluid wid-70",src:k+(s==null?void 0:s.image),alt:"User image"})}),e.jsxs("h5",{className:"mb-0",children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]}),e.jsx("p",{className:"text-muted text-sm text-center",children:"client"}),e.jsx("hr",{className:"my-3 border border-secondary-subtle"}),e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-4",children:[e.jsx("h5",{className:"mb-0",children:"2"}),e.jsx("small",{className:"text-muted",children:"Brokers"})]}),e.jsxs("div",{className:"col-4 border border-top-0 border-bottom-0",children:[e.jsx("h5",{className:"mb-0",children:"3"}),e.jsx("small",{className:"text-muted",children:"Promotions"})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("h5",{className:"mb-0",children:"4"}),e.jsx("small",{className:"text-muted",children:"Clients"})]})]}),e.jsx("hr",{className:"my-3 border border-secondary-subtle"}),e.jsxs("div",{className:"d-inline-flex align-items-center justify-content-start w-100 mb-3",children:[e.jsx("i",{className:"ti ti-mail me-2"}),e.jsx("p",{className:"mb-0",children:s==null?void 0:s.email})]}),e.jsxs("div",{className:"d-inline-flex align-items-center justify-content-start w-100 mb-3",children:[e.jsx("i",{className:"ti ti-phone me-2"}),e.jsx("p",{className:"mb-0",children:s==null?void 0:s.phone})]}),e.jsxs("div",{className:"d-inline-flex align-items-center justify-content-start w-100 mb-3",children:[e.jsx("i",{className:"ti ti-map-pin me-2"}),e.jsx("p",{className:"mb-0",children:(l=s==null?void 0:s.country)==null?void 0:l.name})]}),e.jsxs("div",{className:"d-inline-flex align-items-center justify-content-start w-100",children:[e.jsx("i",{className:"ti ti-link me-2"}),e.jsx("a",{onClick:()=>{var h,u;navigator.clipboard.writeText(((h=window.location)==null?void 0:h.origin)+"/signup?refferal="+((u=s==null?void 0:s.introducing_broker)==null?void 0:u.refferal_link)),m.dismiss(),m.success("Copied.")},className:"link-primary cursor-pointer",style:{cursor:"pointer"},children:e.jsx("p",{className:"mb-0",children:((r=window.location)==null?void 0:r.origin)+"/signup?refferal="+((j=s==null?void 0:s.introducing_broker)==null?void 0:j.refferal_link)})})]})]})})})}),e.jsx("div",{className:"col-lg-8 col-xxl-9",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{children:"Personal Details"})}),e.jsx("div",{className:"card-body",children:e.jsxs("ul",{className:"list-group list-group-flush",children:[e.jsx("li",{className:"list-group-item px-0 pt-0",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("p",{className:"mb-1 text-muted",children:"First Name"}),e.jsx("p",{className:"mb-0",children:s==null?void 0:s.first_name})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("p",{className:"mb-1 text-muted",children:"Last Name"}),e.jsx("p",{className:"mb-0",children:s==null?void 0:s.last_name})]})]})}),e.jsx("li",{className:"list-group-item px-0",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("p",{className:"mb-1 text-muted",children:"Phone"}),e.jsx("p",{className:"mb-0",children:s==null?void 0:s.phone})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("p",{className:"mb-1 text-muted",children:"Country"}),e.jsx("p",{className:"mb-0",children:(g=s==null?void 0:s.country)==null?void 0:g.name})]})]})}),e.jsx("li",{className:"list-group-item px-0",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("p",{className:"mb-1 text-muted",children:"Email"}),e.jsx("p",{className:"mb-0",children:s==null?void 0:s.email})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("p",{className:"mb-1 text-muted",children:"Zip Code"}),e.jsx("p",{className:"mb-0",children:s==null?void 0:s.zipcode})]})]})}),e.jsxs("li",{className:"list-group-item px-0 pb-0",children:[e.jsx("p",{className:"mb-1 text-muted",children:"Address"}),e.jsx("p",{className:"mb-0",children:s==null?void 0:s.address})]})]})})]})})]})})},de=({client:a})=>{const s=i.useRef(null),[t,d]=i.useState(""),[l,r]=i.useState(null),j=M(n=>{var c;return(c=n.user)==null?void 0:c.user}),g=B();i.useEffect(()=>{const n=document.getElementById("chat");n&&(n.scrollTop=n.scrollHeight)},[l]);const h=async()=>{let n=await V(g==null?void 0:g.id);r(n==null?void 0:n.notes)};i.useEffect(()=>{h()},[]);const u=async n=>{n.preventDefault(),m.loading("Creating note");let c=await q({note:t,client_id:g==null?void 0:g.id,author_id:j==null?void 0:j.id});m.dismiss(),d(""),(c==null?void 0:c.status)==200?(m.success("Note created"),r(c==null?void 0:c.notes)):m.error(c==null?void 0:c.message)},y=n=>{const c=n,v=new Date(c),w=v.getFullYear(),S=String(v.getMonth()+1).padStart(2,"0"),C=String(v.getDate()).padStart(2,"0"),p=String(v.getHours()).padStart(2,"0"),o=String(v.getMinutes()).padStart(2,"0");return String(v.getSeconds()).padStart(2,"0"),`${w}-${S}-${C} ${p}:${o}`};return e.jsx("div",{className:"tab-pane",id:"profile-4",role:"tabpanel","aria-labelledby":"profile-tab-4",children:e.jsx("div",{className:"chat-wrapper",children:e.jsxs("div",{className:"col-sm-12",children:[e.jsx("div",{ref:s,className:"chat-content",children:e.jsxs("div",{className:"card mb-0",children:[e.jsx("div",{className:"card-header p-3",children:e.jsx("div",{className:"d-flex align-items-center",children:e.jsx("ul",{className:"list-inline me-auto mb-0",children:e.jsx("li",{className:"list-inline-item",children:e.jsx("div",{className:"media align-items-center",children:e.jsx("div",{className:"media-body mx-3 d-none d-sm-inline-block",children:e.jsx("h6",{className:"mb-0",children:"Notes"})})})})})})}),e.jsx("div",{id:"chat",ref:s,style:{overflowY:"scroll",height:"500px"},className:"scroll-block chat-message",children:e.jsx("div",{ref:s,className:"card-body",children:l&&(l==null?void 0:l.map((n,c)=>{var v,w,S;return(n==null?void 0:n.author_id)!=(j==null?void 0:j.id)?e.jsx("div",{className:"message-out",children:e.jsxs("div",{className:"d-flex align-items-end flex-column",children:[e.jsx("p",{className:"mb-1 text-muted",children:e.jsx("small",{children:y(n==null?void 0:n.created_at)})}),e.jsx("div",{className:"message d-flex align-items-end flex-column",children:e.jsx("div",{className:"d-flex align-items-center mb-1 chat-msg",children:e.jsx("div",{className:"flex-grow-1 ms-3",children:e.jsx("div",{className:"msg-content bg-primary",children:e.jsx("p",{className:"mb-0",children:n==null?void 0:n.note})})})})})]})}):e.jsx("div",{className:"message-in",children:e.jsxs("div",{className:"d-flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"chat-avtar",children:[e.jsx("img",{className:"rounded-circle img-fluid wid-40",src:k+((v=n==null?void 0:n.author)==null?void 0:v.image),alt:"User image"}),e.jsx("i",{className:"chat-badge bg-success"})]})}),e.jsx("div",{className:"flex-grow-1 mx-3",children:e.jsxs("div",{className:"d-flex align-items-start flex-column",children:[e.jsxs("p",{className:"mb-1 text-muted",children:[(w=n==null?void 0:n.author)==null?void 0:w.first_name," ",(S=n==null?void 0:n.author)==null?void 0:S.last_name,e.jsxs("small",{children:[" ",y(n==null?void 0:n.created_at)]})]}),e.jsx("div",{className:"message d-flex align-items-start flex-column",children:e.jsx("div",{className:"d-flex align-items-center mb-1 chat-msg",children:e.jsx("div",{className:"flex-grow-1 me-3",children:e.jsx("div",{className:"msg-content card mb-0",children:e.jsx("p",{className:"mb-0",children:n==null?void 0:n.note})})})})})]})})]})})}))})}),e.jsx("div",{className:"card-footer py-2 px-3",children:e.jsxs("form",{className:"d-flex gap-1",children:[e.jsx("input",{name:"note",value:t,onChange:n=>{d(n.target.value)},className:"form-control border-0 shadow-none px-3",placeholder:"Type a note...",rows:2,defaultValue:""}),e.jsx("ul",{className:"list-inline ms-auto mb-0",children:e.jsx("li",{className:"list-inline-item",children:e.jsx("button",{onClick:n=>{u(n)},type:"submit",style:{borderColor:"transparent"},className:"avtar avtar-s btn-link-primary",children:e.jsx("i",{className:"ti ti-send f-18"})})})})]})})]})})," "]})})})},oe=()=>{const[a,s]=i.useState([]),t=B(),d=async()=>{let l=await O(t==null?void 0:t.id);s(l.brokers)};return i.useEffect(()=>{d()},[]),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-sm-12",children:e.jsx("div",{className:"card table-card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"text-end p-4 pb-sm-2"}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",id:"pc-dt-simple",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-end",children:"#"}),e.jsx("th",{children:"Broker"}),e.jsx("th",{children:"Client broker link"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:a&&a.map((l,r)=>{var j,g;return e.jsxs("tr",{children:[e.jsx("td",{className:"text-end",children:l.id}),e.jsx("td",{children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-auto pe-0",children:e.jsx("img",{src:k+((j=l.broker)==null?void 0:j.image),alt:"user-image",className:"wid-40 rounded"})}),e.jsx("div",{className:"col",children:e.jsx("h6",{className:"mb-1",children:(g=l.broker)==null?void 0:g.title})})]})}),e.jsx("td",{children:l.broker_link??"Client did not updated link yet."}),e.jsx("td",{className:"text-center",children:e.jsx("ul",{className:"list-inline me-auto mb-0",children:e.jsx("li",{onClick:()=>{approveBroker(l)},className:"list-inline-item align-bottom","data-bs-toggle":"tooltip",title:"Delete",children:e.jsxs("button",{className:"btn-sm btn btn-success text-light",children:[e.jsx("i",{className:"ti ti-check f-18"})," Manage Commisions"]})})})})]},r)})})]})})]})})})})},me=()=>e.jsxs("div",{children:[e.jsx("div",{className:"page-header",children:e.jsx("div",{className:"page-block",children:e.jsx("div",{className:"row align-items-center",children:e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"page-header-title",children:e.jsx("h2",{className:"mb-0",children:"Account Profile"})})})})})}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-sm-12",children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body py-0",children:e.jsxs("ul",{className:"nav nav-tabs profile-tabs",id:"myTab",role:"tablist",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link active",id:"profile-tab-1","data-bs-toggle":"tab",href:"#profile-1",role:"tab","aria-selected":"true",children:[e.jsx("i",{className:"ti ti-user me-1"}),"Personal Details"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",id:"profile-tab-2","data-bs-toggle":"tab",href:"#profile-2",role:"tab","aria-selected":"true",children:[e.jsx("i",{className:"ti ti-file-text me-2"}),"Brokers"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",id:"profile-tab-3","data-bs-toggle":"tab",href:"#profile-3",role:"tab","aria-selected":"true",children:[e.jsx("i",{className:"ti ti-coin me-2"}),"Promotions"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",id:"profile-tab-4","data-bs-toggle":"tab",href:"#profile-4",role:"tab","aria-selected":"true",children:[e.jsx("i",{className:"ti ti-notes me-2"}),"Notes"]})})]})})}),e.jsxs("div",{className:"tab-content",children:[e.jsx(ce,{}),e.jsx("div",{className:"tab-pane",id:"profile-2",role:"tabpanel","aria-labelledby":"profile-tab-2",children:e.jsx(oe,{})}),e.jsx("div",{className:"tab-pane",id:"profile-3",role:"tabpanel","aria-labelledby":"profile-tab-3",children:e.jsx("h1",{children:"Promotions will show here"})}),e.jsx(de,{})]})]})})]}),$=()=>{i.useState([]);const[a,s]=i.useState(null),t=B(),d=R(),l=d.pathname.includes("edit-broker"),r=F();i.useEffect(()=>{l&&S()},[]);const j={title:"",websiteLink:"",signupLink:"",status:0,image:null,shortDescription:""};i.useEffect(()=>{w()},[d.pathname]);const{formik:g,setFieldValue:h,values:u,handleChange:y,touched:n,errors:c,handleSubmit:v,resetForm:w}=U({initialValues:j,validationSchema:W,onSubmit:async p=>{m.loading("createing broker");var o=new FormData;o.append("title",p.title),o.append("link",p.websiteLink),o.append("signup_link",p.signupLink),o.append("status",p.status),o.append("id",t.id),o.append("image",p.image),o.append("shortDescription",p.shortDescription);let f;l?f=await Q(o):f=await G(o),m.dismiss(),f.status==200?(m.success(`Broker ${l?"Updated":"Created"}`),r("/adminpanel/manage-brokers")):m.error(f.response.data.message)}}),S=async()=>{m.loading("Loading Broker");let p=await J(t==null?void 0:t.id);m.dismiss(),p?(h("title",p.title),h("websiteLink",p.link),h("signupLink",p.signup_link),h("status",p.status),h("image",p.image),h("shortDescription",p.short_description)):(m.error("Broker Not found"),r("/adminpanel/manage-brokers"))},C=p=>{const o=URL.createObjectURL(p.target.files[0]);s(o),h("image",p.target.files[0])};return e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx("div",{class:"col-md-12",children:e.jsx("div",{class:"page-header-title",children:e.jsxs("h2",{class:"mb-5",children:[l?"Edit":"Add"," Broker"]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"form-label",htmlFor:"inputEmail4",children:"Title"}),e.jsx("input",{type:"text",name:"title",value:u.title,className:`form-control ${c.title&&n.title&&"is-invalid"}`,id:"inputEmail4",placeholder:"title",onChange:y}),c.title&&n.title&&e.jsx("p",{className:"invalid-feedback",children:c.title})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"form-label",htmlFor:"inputPassword4",children:"Website Link"}),e.jsx("input",{name:"websiteLink",onChange:y,type:"text",className:`form-control ${c.websiteLink&&n.websiteLink&&"is-invalid"}`,id:"inputPassword4",placeholder:"Website promotion link",value:u.websiteLink}),c.websiteLink&&n.websiteLink&&e.jsx("p",{className:"invalid-feedback",children:c.websiteLink})]}),e.jsxs("div",{className:"form-group col-md-12",children:[e.jsx("label",{className:"form-label",htmlFor:"inputPassword4",children:"Short Description"}),e.jsx("input",{name:"shortDescription",onChange:y,type:"text",className:`form-control ${c.shortDescription&&n.shortDescription&&"is-invalid"}`,id:"inputPassword4",placeholder:"Short description",value:u.shortDescription}),c.shortDescription&&n.shortDescription&&e.jsx("p",{className:"invalid-feedback",children:c.shortDescription})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"form-label",htmlFor:"inputState",children:"Status"}),e.jsxs("select",{name:"status",onChange:y,value:u.status,className:"form-select",children:[e.jsx("option",{value:1,children:"Active"}),e.jsx("option",{value:0,children:"Draft"})]})]}),e.jsxs("div",{className:"form-group col-md-6",children:[e.jsx("label",{className:"form-label",htmlFor:"inputPassword4",children:"Signup Link"}),e.jsx("input",{name:"signupLink",onChange:y,type:"text",className:`form-control ${c.signupLink&&n.signupLink&&"is-invalid"}`,id:"inputPassword4",placeholder:"Signup promotion link",value:u.signupLink}),c.signupLink&&n.signupLink&&e.jsx("p",{className:"invalid-feedback",children:c.signupLink})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group ",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-danger",children:"*"})," Recommended resolution is 640*640 with file size"]}),e.jsxs("label",{className:"btn btn-outline-secondary",htmlFor:"flupld",children:[e.jsx("i",{className:"ti ti-upload me-2"})," Click to Upload"]}),e.jsx("input",{onChange:C,type:"file",id:"flupld",className:`d-none ${c.image&&n.image&&"is-invalid"}`}),c.image&&n.image&&e.jsx("p",{className:"invalid-feedback",children:c.image})]})}),(a||u.image)&&e.jsx("div",{className:"col-auto ",children:e.jsx("img",{src:a||k+u.image,alt:"user-image",className:"wid-100 rounded"})})]}),e.jsxs("button",{onClick:v,type:"submit",className:"btn btn-primary",children:[l?"Update":"Create","  Broker"]})]})})})]})})},he=()=>{const[a,s]=i.useState([]),t=async()=>{let l=await Z();s(l)};i.useEffect(()=>{t()},[]);const d=async l=>{K(l==null?void 0:l.id),t(),m.success("Promotion deleted")};return e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-sm-12",children:[e.jsx("div",{class:"page-header-title",children:e.jsx("h2",{class:"mb-5",children:"Manage Brokers"})}),e.jsx("div",{className:"card table-card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"text-end p-4 pb-sm-2",children:e.jsxs(_,{to:"/adminpanel/add-broker",className:"btn btn-primary",children:[e.jsx("i",{className:"ti ti-plus f-18"})," Add Broker"]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",id:"pc-dt-simple",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-end",children:"#"}),e.jsx("th",{children:"Broker Title"}),e.jsx("th",{children:"Website Link"}),e.jsx("th",{style:{width:"200px"},children:" Description"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:a&&a.map((l,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-end",children:l.id}),e.jsx("td",{children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-auto pe-0",children:e.jsx("img",{src:k+l.image,alt:"user-image",className:"wid-40 rounded"})}),e.jsx("div",{className:"col",children:e.jsx("h6",{className:"mb-1",children:l.title})})]})}),e.jsx("td",{children:l.link}),e.jsx("td",{className:"content-body",style:{whiteSpace:"normal"},children:l.short_description}),e.jsxs("td",{children:[e.jsx("span",{className:`badge bg-light-${l.status==0?"danger":"success"}  f-12`,children:l.status==0?"Draft":"Active"})," "]}),e.jsx("td",{className:"text-center",children:e.jsxs("ul",{className:"list-inline me-auto mb-0",children:[e.jsx("li",{className:"list-inline-item align-bottom","data-bs-toggle":"tooltip",title:"Edit",children:e.jsx(_,{to:`/adminpanel/edit-broker/${l.id}`,className:"avtar avtar-xs btn-link-success btn-pc-default",children:e.jsx("i",{className:"ti ti-edit-circle f-18"})})}),e.jsx("li",{onClick:()=>{d(l)},className:"list-inline-item align-bottom","data-bs-toggle":"tooltip",title:"Delete",children:e.jsx("a",{className:"avtar avtar-xs btn-link-danger btn-pc-default",children:e.jsx("i",{className:"ti ti-trash f-18"})})})]})})]},r))})]})})]})})]})})},xe=()=>{const[a,s]=i.useState([]),t=async()=>{let r=await ne();s(r)};i.useEffect(()=>{t()},[]);const d=async r=>{m.loading("Approving Introducing Broker...");let j=await A(r==null?void 0:r.id);m.dismiss(),j.status==200?m.success("Introducing broker request approved successfully"):m.error("Something went wrong")},l=async r=>{m.loading("Declining Introducing Broker...");let j=await A(r==null?void 0:r.id);m.dismiss(),j.status==200?m.success("Introducing broker request declined successfully"):m.error("Something went wrong")};return e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-sm-12",children:[e.jsx("div",{class:"page-header-title",children:e.jsx("h2",{class:"mb-5",children:"Manage IB Requests"})}),e.jsx("div",{className:"card table-card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"text-end p-4 pb-sm-2"}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",id:"pc-dt-simple",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-end",children:"#"}),e.jsx("th",{children:"Client"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsxs("tbody",{children:[a&&a.map((r,j)=>{var g,h,u,y,n,c;return e.jsxs("tr",{children:[e.jsx("td",{className:"text-end",children:r.id}),e.jsx("td",{children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-auto pe-0",children:e.jsx("img",{src:k+((g=r==null?void 0:r.client)==null?void 0:g.image),alt:"user-image",className:"wid-40 rounded"})}),e.jsx("div",{className:"col",children:e.jsxs("h6",{className:"mb-1",children:[(h=r==null?void 0:r.client)==null?void 0:h.first_name," ",(u=r==null?void 0:r.client)==null?void 0:u.last_name]})})]})}),e.jsx("td",{children:(y=r==null?void 0:r.client)==null?void 0:y.email}),e.jsx("td",{children:(n=r==null?void 0:r.client)==null?void 0:n.phone}),e.jsxs("td",{children:[e.jsx("span",{className:`badge bg-light-${r.status!="active"?"danger":"success"}  f-12`,children:r.status})," "]}),e.jsx("td",{className:"text-center",children:e.jsxs("ul",{className:"list-inline me-auto mb-0",children:[e.jsx("li",{onClick:()=>{d(r)},className:"list-inline-item align-bottom","data-bs-toggle":"tooltip",title:"Delete",children:e.jsxs("button",{className:"btn-sm btn btn-success text-light",children:[e.jsx("i",{className:"ti ti-check f-18"})," Approve"]})}),e.jsx("li",{onClick:()=>{l(r)},className:"list-inline-item align-bottom","data-bs-toggle":"tooltip",title:"Delete",children:e.jsxs("button",{className:"btn-sm btn btn-danger text-light",children:[e.jsx("i",{className:"ti ti-user-off f-18"})," Decline"]})}),e.jsx("li",{className:"list-inline-item align-bottom",title:"See client details",children:e.jsx("button",{className:"btn-sm btn btn-primary    text-light",children:e.jsxs(_,{to:`/adminpanel/client-detail/${(c=r==null?void 0:r.client)==null?void 0:c.id}`,className:"text-light",children:[e.jsx("i",{className:"ti ti-eye f-18"})," View Client"]})})})]})})]},j)}),a.length==0&&e.jsx("tr",{children:e.jsx("td",{className:"text-center",colSpan:6,children:"No new requests"})})]})]})})]})})]})})},ue=()=>{const[a,s]=i.useState([]),t=async()=>{let d=await re();s(d)};return i.useEffect(()=>{t()},[]),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-sm-12",children:[e.jsx("div",{class:"page-header-title",children:e.jsx("h2",{class:"mb-5",children:"Manage Introducing Brokers"})}),e.jsx("div",{className:"card table-card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"text-end p-4 pb-sm-2"}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",id:"pc-dt-simple",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-end",children:"#"}),e.jsx("th",{children:"Client"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Country"}),e.jsx("th",{children:"Email verification"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:a&&a.map((d,l)=>{var r;return e.jsxs("tr",{children:[e.jsx("td",{className:"text-end",children:d.id}),e.jsx("td",{children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-auto pe-0",children:e.jsx("img",{src:k+d.image,alt:"user-image",className:"wid-40 rounded"})}),e.jsx("div",{className:"col",children:e.jsxs("h6",{className:"mb-1",children:[d.first_name," ",d==null?void 0:d.last_name]})})]})}),e.jsx("td",{children:d.email}),e.jsx("td",{children:d.phone}),e.jsx("td",{children:(r=d==null?void 0:d.country)==null?void 0:r.name}),e.jsx("td",{children:d.email_verified_at?"Verified":"Pending email verification"}),e.jsxs("td",{children:[e.jsx("span",{className:`badge bg-light-${d.status!="active"?"danger":"success"}  f-12`,children:d.status})," "]}),e.jsx("td",{className:"text-center",children:e.jsx("ul",{className:"list-inline me-auto mb-0",children:e.jsx("li",{className:"list-inline-item align-bottom","data-bs-toggle":"tooltip",title:"View",children:e.jsx(_,{to:`/adminpanel/client-detail/${d.id}`,className:"avtar avtar-xs btn-link-success btn-pc-default",children:e.jsx("i",{className:"ti ti-eye f-18"})})})})})]},l)})})]})})]})})]})})},L=i.lazy(()=>I(()=>import("./index-0R7qgrsa.js"),__vite__mapDeps([0,1,2]))),je=i.lazy(()=>I(()=>import("./index-PA8zJtyb.js"),__vite__mapDeps([3,1,2]))),P=i.lazy(()=>I(()=>import("./index-AztKdf__.js"),__vite__mapDeps([4,1,2]))),pe=i.lazy(()=>I(()=>import("./index-X6Tq1bAH.js"),__vite__mapDeps([5,1,2]))),ge=i.lazy(()=>I(()=>import("./index-NIeSkmKM.js"),__vite__mapDeps([6,1,2]))),Ne=i.lazy(()=>I(()=>import("./index-2XhTvrZ0.js"),__vite__mapDeps([7,1,2])));function be(a){return e.jsxs(H,{children:[e.jsx(N,{path:"/",element:e.jsx(i.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(ge,{})})}),e.jsx(N,{path:"add-promotion",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:["  ",e.jsx(L,{})," "]})}),e.jsx(N,{path:"edit-promotion/:id",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:[" ",e.jsx(L,{})," "]})}),e.jsx(N,{path:"manage-promotion",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:[" ",e.jsx(pe,{})," "]})}),e.jsx(N,{path:"add-broker",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:["  ",e.jsx($,{})," "]})}),e.jsx(N,{path:"edit-broker/:id",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:[" ",e.jsx($,{})," "]})}),e.jsx(N,{path:"manage-brokers",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:[" ",e.jsx(he,{})," "]})}),e.jsx(N,{path:"introducing-broker-requests",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:[" ",e.jsx(xe,{})," "]})}),e.jsx(N,{path:"introducing-brokers",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:[" ",e.jsx(ue,{})," "]})}),e.jsx(N,{path:"add-slider",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:["  ",e.jsx(P,{})," "]})}),e.jsx(N,{path:"edit-slider/:id",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:[" ",e.jsx(P,{})," "]})}),e.jsx(N,{path:"manage-sliders",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:[" ",e.jsx(je,{})," "]})}),e.jsx(N,{path:"add-news",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:["  ",e.jsx(D,{})," "]})}),e.jsx(N,{path:"edit-news/:id",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:[" ",e.jsx(D,{})," "]})}),e.jsx(N,{path:"manage-news",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:[" ",e.jsx(ie,{})," "]})}),e.jsx(N,{path:"manage-clients",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:[" ",e.jsx(Ne,{})," "]})}),e.jsx(N,{path:"client-detail/:id",element:e.jsxs(i.Suspense,{fallback:e.jsx(b,{}),children:[" ",e.jsx(me,{})," "]})})]})}const fe=i.lazy(()=>I(()=>import("./index-gB4qEO7j.js"),__vite__mapDeps([8,1,2,9,10])));function ve(){return e.jsxs(Y.Fragment,{children:[e.jsx(fe,{}),e.jsx("section",{className:"pc-container",children:e.jsx("div",{className:"pc-content",children:e.jsx(be,{})})})]})}const Pe=Object.freeze(Object.defineProperty({__proto__:null,default:ve},Symbol.toStringTag,{value:"Module"}));export{we as a,ke as b,Ae as c,$e as d,De as e,Be as f,_e as g,Ee as h,Ie as i,Ce as j,Le as k,Pe as l,Se as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-0R7qgrsa.js","assets/app-UVgB9Xq9.js","assets/app-8LokNh4x.css","assets/index-PA8zJtyb.js","assets/index-AztKdf__.js","assets/index-X6Tq1bAH.js","assets/index-NIeSkmKM.js","assets/index-2XhTvrZ0.js","assets/index-gB4qEO7j.js","assets/Helmet-OOuri0zy.js","assets/index-XhRVs4Hi.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
