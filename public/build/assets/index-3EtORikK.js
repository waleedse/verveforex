import{r as c,c as _,d as R,j as s,L as P,_ as x,h as V,R as F,f as y,S as C,e as T,g as Y}from"./app-Lzmwzzor.js";import{M as $}from"./quill.snow-RLuXMydO.js";import{I as w}from"./useAxios-DWyE6R_A.js";import{c as q,d as O,e as Z,f as J,h as G,i as W,j as K,k as Q,u as X,b as ss,l as es}from"./commonService-b0VipJKY.js";import{g as as,a as ls}from"./commonService-CgM6PNqj.js";import{u as rs}from"./index.esm-Upu3Gi3T.js";import{M as ns}from"./Auth-o9147_n8.js";const is=()=>{var a,p,k;const[e,u]=c.useState([]),[j,t]=c.useState(null),n=_(d=>d.user.user),v=R(),i=async()=>{let d=await q();u(d)};c.useEffect(()=>{i()},[]);const b=async d=>{(await O({id:d})).status==200&&(x.success("You are now enrolled."),t(null),m())},m=()=>{axios.get("/api/check-auth/client",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(d=>{var g;v(V((g=d.data)==null?void 0:g.user))}).catch(d=>{})},r=async()=>{var g;x.loading("Deactivating promotion...");let d=await Z((g=n==null?void 0:n.client_promotion)==null?void 0:g.id);x.dismiss(),d.status==200&&(x.success("Promotion deactivated"),m())};return s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-sm-12",children:[s.jsx("div",{class:"page-header-title",children:s.jsx("h2",{class:"mb-5",children:"Promotions"})}),s.jsx("div",{className:"card    ",children:s.jsx("div",{className:"card-body",children:s.jsx("div",{className:"row p-4",children:n!=null&&n.client_promotion?s.jsxs("div",{className:" text-center",style:{alignItems:"center",justifyContent:"center",marginTop:"8%",marginBottom:"8%"},children:[s.jsx("img",{src:"/assets/images/work-in-progress.png",style:{width:"150px"}}),s.jsxs("h1",{className:"mt-3",children:["You are enrolled into the ",(p=(a=n==null?void 0:n.client_promotion)==null?void 0:a.promotion)==null?void 0:p.title," Promotion"]}),s.jsx("p",{className:"text-center",children:"You will recieve commissions and other benifits of this promotion now. For further assistance please contact support"}),s.jsx("button",{onClick:()=>{r()},className:"btn btn-danger",type:"button",children:"Deactivate promotion"})]}):s.jsx(s.Fragment,{children:(e==null?void 0:e.promotion)&&((k=e.promotion)==null?void 0:k.map((d,g)=>s.jsx("div",{className:"col-md-3 px-2",children:s.jsx("div",{className:"card ",children:s.jsxs("div",{className:"card-body p-1",children:[s.jsx("img",{className:"rounder-broder",style:{width:"100%",borderRadius:"7px"},src:w+(d==null?void 0:d.image)}),s.jsx("h3",{className:"pt-2",children:d==null?void 0:d.title}),s.jsx("p",{className:"content-body",children:d==null?void 0:d.short_description}),s.jsx(P,{target:"_blank",to:d==null?void 0:d.link,children:s.jsx("button",{className:"btn btn-light-warning col-md-12",type:"button",children:"Details"})}),s.jsx("button",{onClick:()=>{t(d)},className:"btn mt-2 btn-light-primary col-md-12",type:"button",children:"Enroll Now"})]})})})))})})})})]}),j&&s.jsx("div",{id:"exampleModalCenter",className:"modal fade show",tabIndex:-1,"aria-labelledby":"exampleModalCenterTitle",style:{display:"block"},"aria-modal":"true",role:"dialog",children:s.jsx("div",{class:"modal-dialog modal-dialog-centered",role:"document",children:s.jsxs("div",{class:"modal-content",children:[s.jsxs("div",{class:"modal-header",children:[s.jsx("h5",{class:"modal-title",id:"exampleModalCenterTitle",children:"Are you sure you want to enroll in to this promotion"}),s.jsx("button",{onClick:()=>{t(null)},type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),s.jsx("div",{class:"modal-body",children:s.jsx("p",{children:"You will be enroll into this promotion."})}),s.jsxs("div",{class:"modal-footer",children:[s.jsx("button",{onClick:()=>{t(null)},type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",children:"Cancel"}),s.jsx("button",{type:"button",onClick:d=>{b(j==null?void 0:j.id)},class:"btn btn-success",children:"Confirm"})]})]})})})]})},U=()=>{const[e,u]=c.useState([]),j=async()=>{let t=await J();u(t==null?void 0:t.commissions)};return c.useEffect(()=>{j()},[]),s.jsx("div",{className:"row",children:s.jsxs("div",{className:"col-sm-12",children:[s.jsx("div",{class:"page-header-title",children:s.jsx("h2",{class:"mb-5",children:"Manage Commissions"})}),s.jsx("div",{className:"card table-card",children:s.jsx("div",{className:"card-body",children:s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-hover",id:"pc-dt-simple",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"ID."}),s.jsx("th",{children:"Broker"}),s.jsx("th",{children:"Commission"}),s.jsx("th",{children:"Payment type"}),s.jsx("th",{children:"Notes"}),s.jsx("th",{children:"Date"})]})}),s.jsx("tbody",{children:e&&e.map((t,n)=>{var v,i;return s.jsxs("tr",{children:[s.jsx("td",{children:t.id}),s.jsx("td",{children:(i=(v=t.client_broker)==null?void 0:v.broker)==null?void 0:i.title}),s.jsx("td",{children:t.commission}),s.jsx("td",{children:t.payment_type}),s.jsx("td",{children:t==null?void 0:t.notes}),s.jsx("td",{children:t==null?void 0:t.created_at.toLocaleString()})]},n)})})]})})})})]})})},ts=()=>{var t;const[e,u]=c.useState(null),j=async()=>{let n=await G();u(n)};return c.useEffect(()=>{j()},[]),s.jsxs("div",{children:[s.jsx("div",{className:"page-header",children:s.jsx("div",{className:"page-block",children:s.jsxs("div",{className:"row align-items-center",children:[s.jsx("div",{className:"col-md-12",children:s.jsxs("ul",{className:"breadcrumb",children:[s.jsx("li",{className:"breadcrumb-item",children:s.jsx("a",{href:"index.html",children:"Home"})}),s.jsx("li",{className:"breadcrumb-item",children:s.jsx("a",{href:"javascript: void(0)",children:"Dashboard"})})]})}),s.jsx("div",{className:"col-md-12",children:s.jsx("div",{className:"page-header-title",children:s.jsx("h2",{className:"mb-0",children:"Dashboard"})})})]})})}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-6 col-xxl-3",children:s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"avtar avtar-s bg-light-primary",children:s.jsxs("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{opacity:"0.4",d:"M13 9H7",stroke:"#4680FF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M22.0002 10.9702V13.0302C22.0002 13.5802 21.5602 14.0302 21.0002 14.0502H19.0402C17.9602 14.0502 16.9702 13.2602 16.8802 12.1802C16.8202 11.5502 17.0602 10.9602 17.4802 10.5502C17.8502 10.1702 18.3602 9.9502 18.9202 9.9502H21.0002C21.5602 9.9702 22.0002 10.4202 22.0002 10.9702Z",stroke:"#4680FF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M17.48 10.55C17.06 10.96 16.82 11.55 16.88 12.18C16.97 13.26 17.96 14.05 19.04 14.05H21V15.5C21 18.5 19 20.5 16 20.5H7C4 20.5 2 18.5 2 15.5V8.5C2 5.78 3.64 3.88 6.19 3.56C6.45 3.52 6.72 3.5 7 3.5H16C16.26 3.5 16.51 3.50999 16.75 3.54999C19.33 3.84999 21 5.76 21 8.5V9.95001H18.92C18.36 9.95001 17.85 10.17 17.48 10.55Z",stroke:"#4680FF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),s.jsx("div",{className:"flex-grow-1 ms-3",children:s.jsx("h6",{className:"mb-0",children:"All Commissions"})})]}),s.jsx("div",{className:"bg-body p-3 mt-3 rounded",children:s.jsxs("div",{className:"mt-3 row align-items-center",children:[s.jsx("div",{className:"col-7"}),s.jsx("div",{className:"col-5",children:s.jsxs("h5",{className:"mb-1",children:["$",e==null?void 0:e.commissions]})})]})})]})})}),s.jsx("div",{className:"col-md-6 col-xxl-3",children:s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"avtar avtar-s bg-light-warning",children:s.jsxs("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M21 7V17C21 20 19.5 22 16 22H8C4.5 22 3 20 3 17V7C3 4 4.5 2 8 2H16C19.5 2 21 4 21 7Z",stroke:"#E58A00",strokeWidth:"1.5",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{opacity:"0.6",d:"M14.5 4.5V6.5C14.5 7.6 15.4 8.5 16.5 8.5H18.5",stroke:"#E58A00",strokeWidth:"1.5",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{opacity:"0.6",d:"M8 13H12",stroke:"#E58A00",strokeWidth:"1.5",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{opacity:"0.6",d:"M8 17H16",stroke:"#E58A00",strokeWidth:"1.5",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})]})})}),s.jsx("div",{className:"flex-grow-1 ms-3",children:s.jsx("h6",{className:"mb-0",children:"My Brokers"})})]}),s.jsx("div",{className:"bg-body p-3 mt-3 rounded",children:s.jsxs("div",{className:"mt-3 row align-items-center",children:[s.jsx("div",{className:"col-7"}),s.jsx("div",{className:"col-5",children:s.jsx("h5",{className:"mb-1",children:e==null?void 0:e.brokers})})]})})]})})}),s.jsx("div",{className:"col-md-6 col-xxl-3",children:s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"avtar avtar-s bg-light-success",children:s.jsxs("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M8 2V5",stroke:"#2ca87f",strokeWidth:"1.5",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M16 2V5",stroke:"#2ca87f",strokeWidth:"1.5",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{opacity:"0.4",d:"M3.5 9.08984H20.5",stroke:"#2ca87f",strokeWidth:"1.5",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M21 8.5V17C21 20 19.5 22 16 22H8C4.5 22 3 20 3 17V8.5C3 5.5 4.5 3.5 8 3.5H16C19.5 3.5 21 5.5 21 8.5Z",stroke:"#2ca87f",strokeWidth:"1.5",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{opacity:"0.4",d:"M15.6947 13.7002H15.7037",stroke:"#2ca87f",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{opacity:"0.4",d:"M15.6947 16.7002H15.7037",stroke:"#2ca87f",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{opacity:"0.4",d:"M11.9955 13.7002H12.0045",stroke:"#2ca87f",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{opacity:"0.4",d:"M11.9955 16.7002H12.0045",stroke:"#2ca87f",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{opacity:"0.4",d:"M8.29431 13.7002H8.30329",stroke:"#2ca87f",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{opacity:"0.4",d:"M8.29395 16.7002H8.30293",stroke:"#2ca87f",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})]})})}),s.jsx("div",{className:"flex-grow-1 ms-3",children:s.jsx("h6",{className:"mb-0",children:"My promtoion"})})]}),s.jsx("div",{className:"bg-body p-3 mt-3 rounded",children:s.jsxs("div",{className:"mt-3 row align-items-center",children:[s.jsx("div",{className:"col-7"}),s.jsx("div",{className:"col-12",children:s.jsx("h5",{className:"mb-1",children:e!=null&&e.promotion?(t=e==null?void 0:e.promotion)==null?void 0:t.promotion.title:"You have not enrolled in promotion"})})]})})]})})}),s.jsx(U,{})]})]})},cs=()=>{const[e,u]=c.useState([]),[j,t]=c.useState(!1),[n,v]=c.useState(""),[i,b]=c.useState(""),m=async()=>{let a=await W();u(a)};c.useEffect(()=>{m()},[]);const r=async()=>{if(n&&i){x.loading("Submitting your request...");let a={brokerId:n,broker_signup_id:i};console.log(a);let p=await K(a);x.dismiss(),(p==null?void 0:p.status)==200?(x.success("Broker commission claim requested."),t(!1)):x.error((p==null?void 0:p.message)??"Something went wrong")}else x.error("Please fill the all required fields")};return s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-sm-12",children:[s.jsxs("div",{class:"page-header-title row",children:[s.jsx("h2",{class:"mb-5 col-md-10",children:"Manage Brokers"}),s.jsx("div",{className:"col-md-2 ml-auto ",children:s.jsx("button",{onClick:()=>{t(!0)},className:"btn btn-success col-md-12",children:"Claim broker commission"})})]}),s.jsx("div",{className:"card    ",children:s.jsx("div",{className:"card-body",children:s.jsx("div",{className:"row p-4",children:e&&(e==null?void 0:e.map((a,p)=>s.jsx("div",{className:"col-md-3 px-2",children:s.jsx("div",{className:"card ",children:s.jsxs("div",{className:"card-body p-1",children:[s.jsx("img",{className:"rounder-broder",style:{width:"100%",borderRadius:"7px"},src:w+(a==null?void 0:a.image)}),s.jsx("h3",{className:"pt-2",children:a==null?void 0:a.title}),s.jsx("p",{className:"content-body",children:a==null?void 0:a.short_description}),s.jsx("div",{className:" ",children:s.jsx("button",{style:{width:"100%"},onClick:()=>{window.open(a==null?void 0:a.link)},className:"btn btn-light-warning col-md-12",type:"button",children:"Details"})}),s.jsx("div",{className:"mt-2  ",style:{width:"100%"},children:s.jsx("button",{style:{width:"100%"},onClick:()=>{window.open(a==null?void 0:a.signup_link)},className:"btn btn-light-success col-md-12",type:"button",children:"Sign Up"})})]})})})))})})})]}),j&&s.jsx("div",{id:"exampleModalCenter",className:"modal fade show",tabIndex:-1,"aria-labelledby":"exampleModalCenterTitle",style:{display:"block"},"aria-modal":"true",role:"dialog",children:s.jsx("div",{class:"modal-dialog modal-dialog-centered",role:"document",children:s.jsxs("div",{class:"modal-content",children:[s.jsxs("div",{class:"modal-header",children:[s.jsx("h5",{class:"modal-title",id:"exampleModalCenterTitle",children:"Submit your commission claim request"}),s.jsx("button",{onClick:()=>{t(!1)},type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),s.jsxs("div",{class:"modal-body",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Select broker"}),s.jsxs("select",{onChange:a=>{v(a.target.value)},className:"form-control",children:[s.jsx("option",{children:"Select broker"}),e&&(e==null?void 0:e.map((a,p)=>s.jsx("option",{value:a==null?void 0:a.id,children:a.title},p)))]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Enter the broker signup ID"}),s.jsx("textarea",{onChange:a=>{b(a.target.value)},className:"form-control",style:{height:"200px"}})]})]}),s.jsxs("div",{class:"modal-footer",children:[s.jsx("button",{onClick:()=>{t(!1)},type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",children:"Cancel"}),s.jsx("button",{type:"button",onClick:a=>{r()},class:"btn btn-success",children:"Submit Request"})]})]})})})]})},os=()=>{var I,E,A;const[e,u]=c.useState([]),[j,t]=c.useState([]),n=_(l=>{var N;return(N=l.user)==null?void 0:N.user}),[v,i]=c.useState(!1),[b,m]=c.useState(!1),[r,a]=c.useState([]),[p,k]=c.useState([]),d=R(),g=async()=>{let l=await W();u(l)};c.useEffect(()=>{g()},[]);const S=l=>{t(l)},o=async l=>{if(l.preventDefault(),j!=null&&j.length){let N={brokers:j};x.loading("Submitting your application"),await Q(N);let f=JSON.parse(JSON.stringify(n));f.introducing_broker={status:"pending"},d(V(f)),i(!1),x.dismiss(),x.success("Your request has been submitted successfully")}else x.error("Please select brokers first")},h=async l=>{m(!0);let N=await as(l);a(N)};c.useEffect(()=>{var l,N;n!=null&&n.introducing_broker&&((l=n==null?void 0:n.introducing_broker)!=null&&l.status)&&h((N=n==null?void 0:n.introducing_broker)==null?void 0:N.client_id)},[]),c.useEffect(()=>{console.log(p)},[p]);const z=l=>{let f=p.filter(M=>M!=l);console.log("newArray",f),k(f)},B=(l,N,f)=>{var M,H;return s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:`${f&&"childRow"}`,children:[s.jsxs("td",{className:"text-end",children:[f&&s.jsx("span",{children:s.jsx("a",{style:{fontSize:"24px",cursor:"pointer"},className:"avtar avtar-xs btn-link-success btn-pc-default",children:s.jsx("i",{className:" ti ti-corner-down-right"})})}),l.id]}),s.jsx("td",{children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-auto pe-0",children:s.jsx("img",{src:w+l.image,alt:"user-image",className:"wid-40 rounded"})}),s.jsx("div",{className:"col",children:s.jsxs("h6",{className:"mb-1",children:[l.first_name," ",l==null?void 0:l.last_name]})})]})}),s.jsx("td",{children:l.email}),s.jsx("td",{children:l.phone}),s.jsx("td",{children:(M=l==null?void 0:l.country)==null?void 0:M.name}),s.jsx("td",{children:l.created_at}),s.jsxs("td",{children:[l!=null&&l.introducing_broker?"Yes":"no"," "]}),s.jsx("td",{className:"text-center",children:((H=l==null?void 0:l.refferals)==null?void 0:H.length)>0&&s.jsx("ul",{className:"list-inline me-auto mb-0 cursor-pointer",children:p.includes(l==null?void 0:l.id)?s.jsx("li",{onClick:()=>{z(l==null?void 0:l.id)},className:"list-inline-item align-bottom","data-bs-toggle":"tooltip",title:"Show",children:s.jsx("a",{style:{fontSize:"24px",cursor:"pointer"},className:"avtar avtar-xs btn-link-danger btn-pc-default",children:s.jsx("i",{className:"ti ti-circle-minus"})})}):s.jsx("li",{onClick:()=>{k(L=>L?[...L,l==null?void 0:l.id]:[l==null?void 0:l.id])},className:"list-inline-item align-bottom","data-bs-toggle":"tooltip",title:"Show",children:s.jsx("a",{style:{fontSize:"24px",cursor:"pointer"},className:"avtar avtar-xs btn-link-success btn-pc-default",children:s.jsx("i",{className:"ti ti-circle-plus"})})})})})]},N),p.includes(l==null?void 0:l.id)&&(l==null?void 0:l.refferals.map((L,D)=>B(L,D,!0)))]})};return s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-sm-12",children:[s.jsx("div",{class:"page-header-title",children:s.jsx("h2",{class:"mb-5",children:"Introducing Brokers"})}),(n==null?void 0:n.introducing_broker)&&((I=n==null?void 0:n.introducing_broker)==null?void 0:I.status)=="pending"&&s.jsx("div",{className:"card table-card",children:s.jsx("div",{className:"card-body",style:{height:"700px"},children:s.jsxs("div",{className:" text-center",style:{alignItems:"center",justifyContent:"center",marginTop:"10%"},children:[s.jsx("img",{src:"/assets/images/work-in-progress.png",style:{width:"150px"}}),s.jsx("h1",{className:"mt-3",children:"Your request is now in progress"}),s.jsx("p",{className:"text-center",children:"Your submission has been received and is currently being processed. You will receive notification via email once your IB Application has been approved"}),s.jsx("button",{className:"btn btn-success",type:"button",children:"Learn more"})]})})})]}),!(n!=null&&n.introducing_broker)&&s.jsx("div",{className:"card table-card",children:s.jsx("div",{className:"card-body",style:{height:"700px"},children:s.jsxs("div",{className:" text-center",style:{alignItems:"center",justifyContent:"center",marginTop:"20%"},children:[s.jsx("h1",{children:"Become an Introducing Broker"}),s.jsx("p",{className:"text-center",children:"Click on the below button to proceed with the application"}),s.jsx("button",{onClick:()=>{i(!0)},className:"btn btn-success",type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModalCenter",children:"Get Started"})]})})}),(n==null?void 0:n.introducing_broker)&&((E=n==null?void 0:n.introducing_broker)==null?void 0:E.status)=="active"&&s.jsx("div",{className:"card table-card",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"row",children:[s.jsx("h3",{className:"mt-3 col-md-10 mb-4",children:"My Refferals Tree "}),s.jsx("div",{className:"col-md-2 p-2",children:s.jsx(P,{to:"/client/update-broker-links",children:s.jsx("button",{className:"btn btn-success col-md-12",children:"Update Broker Links"})})})]}),s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-hover",id:"pc-dt-simple",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-end",children:"#"}),s.jsx("th",{children:"Client"}),s.jsx("th",{children:"Email"}),s.jsx("th",{children:"Phone"}),s.jsx("th",{children:"Country"}),s.jsx("th",{children:"Email verification"}),s.jsx("th",{children:"Status"}),s.jsx("th",{className:"text-center",children:"Actions"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsxs("td",{className:"text-end",children:[r.id," "]}),s.jsx("td",{children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-auto pe-0",children:s.jsx("img",{src:w+(r==null?void 0:r.image),alt:"user-image",className:"wid-40 rounded"})}),s.jsxs("div",{className:"col",children:[s.jsxs("h6",{className:"mb-1",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),s.jsx("p",{className:"text-muted f-12 mb-0",children:"(Your Self)"})]})]})}),s.jsx("td",{children:r.email}),s.jsx("td",{children:r.phone}),s.jsx("td",{children:(A=r==null?void 0:r.country)==null?void 0:A.name}),s.jsx("td",{children:r.created_at}),s.jsxs("td",{children:[r!=null&&r.introducing_broker?"Yes":"no"," "]}),s.jsx("td",{className:"text-center"})]}),(r==null?void 0:r.referrals)&&(r==null?void 0:r.referrals.map((l,N)=>s.jsx(s.Fragment,{children:B(l,N)})))]})]})})]})}),v&&s.jsx("div",{id:"exampleModalCenter",className:"modal fade show",tabIndex:-1,"aria-labelledby":"exampleModalCenterTitle",style:{display:"block"},"aria-modal":"true",role:"dialog",children:s.jsx("div",{class:"modal-dialog modal-dialog-centered",role:"document",children:s.jsxs("div",{class:"modal-content",children:[s.jsxs("div",{class:"modal-header",children:[s.jsx("h5",{class:"modal-title",id:"exampleModalCenterTitle",children:"Submit your application for Introducing broker"}),s.jsx("button",{onClick:()=>{i(!1)},type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),s.jsxs("div",{class:"modal-body",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Select your current brokers you are signed up"}),s.jsx($,{options:e,onSelect:S,onRemove:S,displayValue:"title",className:"form-select p-1"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Write your application or message"}),s.jsx("textarea",{className:"form-control",style:{height:"200px"}})]})]}),s.jsxs("div",{class:"modal-footer",children:[s.jsx("button",{onClick:()=>{i(!1)},type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",children:"Cancel"}),s.jsx("button",{type:"button",onClick:l=>{o(l)},class:"btn btn-success",children:"Submit Application"})]})]})})})]})},ds=()=>{var g,S;const e=_(o=>{var h;return(h=o.user)==null?void 0:h.user}),[u,j]=c.useState(null),[t,n]=c.useState(null),{formik:v,setFieldValue:i,values:b,handleChange:m,touched:r,errors:a,handleSubmit:p}=rs({initialValues:{email:e==null?void 0:e.email,firstName:e==null?void 0:e.first_name,lastName:e==null?void 0:e.last_name,phone:e==null?void 0:e.phone,zipCode:e==null?void 0:e.zipcode,address:e==null?void 0:e.address,country:e==null?void 0:e.country,image:e==null?void 0:e.image},validationSchema:ns,onSubmit:async o=>{x.loading("Updating your profile...");var h=new FormData;h.append("firstName",o.firstName),h.append("lastName",o.lastName),h.append("email",o.email),h.append("zipcode",o.zipCode),h.append("address",o.address),h.append("phone",o.phone),h.append("image",o.image),h.append("country",o.country),console.log(h),await X(h),x.dismiss(),x.success("Your profile has been updated successfully")}}),k=async()=>{let o=await ls();j(o)};c.useEffect(()=>{k()},[]);const d=o=>{const h=URL.createObjectURL(o.target.files[0]);n(h),i("image",o.target.files[0])};return console.log(a),s.jsxs("div",{children:[s.jsx("div",{class:"page-header-title",children:s.jsx("h2",{class:"mb-5",children:"My Account"})}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-lg-6",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{children:"Personal Information"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-sm-12 text-center mb-3",children:s.jsxs("div",{className:"user-upload wid-75",children:[s.jsx("img",{src:t||w+(e==null?void 0:e.image),alt:"img",className:"img-fluid"}),s.jsxs("label",{htmlFor:"uplfile",className:"img-avtar-upload",children:[s.jsx("i",{className:"ti ti-camera f-24 mb-1"}),s.jsx("span",{children:"Upload"})]}),s.jsx("input",{onChange:d,type:"file",id:"uplfile",className:"d-none"})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"First Name"}),s.jsx("input",{onChange:m,name:"firstName",value:b.firstName,type:"text",className:`form-control ${a.firstName&&r.firstName&&"is-invalid"}`,defaultValue:"Anshan"}),a.firstName&&r.firstName&&s.jsxs("p",{className:"invalid-feedback",children:[" ",a.firstName]})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Last Name"}),s.jsx("input",{onChange:m,name:"lastName",value:b.lastName,type:"text",className:`form-control ${a.lastName&&r.lastName&&"is-invalid"}`,defaultValue:"Handgun"}),a.lastName&&r.lastName&&s.jsxs("p",{className:"invalid-feedback",children:[" ",a.lastName]})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Country"}),s.jsxs("select",{value:b.country,type:"select",onChange:m,name:"country",className:`form-control ${a.country&&r.country&&"is-invalid"}`,id:"floatingInput1",children:[s.jsx("option",{children:"Select your country"}),u&&(u==null?void 0:u.map((o,h)=>s.jsx("option",{value:o==null?void 0:o.id,children:o==null?void 0:o.name},h)))]}),a.country&&r.country&&s.jsxs("p",{className:"invalid-feedback",children:[" ",a.country]})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Zip code"}),s.jsx("input",{onChange:m,name:"zipCode",value:b.zipCode,type:"text",className:`form-control ${a.zipCode&&r.zipCode&&"is-invalid"}`}),a.zipCode&&r.zipCode&&s.jsxs("p",{className:"invalid-feedback",children:[" ",a.zipCode]})]})}),s.jsx("div",{className:"col-sm-12",children:s.jsxs("div",{className:"form-group",onClick:()=>{var o,h;navigator.clipboard.writeText(((o=window.location)==null?void 0:o.origin)+"/signup?refferal="+((h=e==null?void 0:e.introducing_broker)==null?void 0:h.refferal_link)),x.dismiss(),x.success("Copied.")},children:[s.jsx("label",{className:"form-label",style:{cursor:"pointer"},children:"Refferal URL (Click to copy)"}),s.jsx("input",{type:"text",onClick:()=>{var o,h;navigator.clipboard.writeText(((o=window.location)==null?void 0:o.origin)+"/signup?refferal="+((h=e==null?void 0:e.introducing_broker)==null?void 0:h.refferal_link)),x.dismiss(),x.success("Copied.")},disabled:!0,defaultValue:((g=window.location)==null?void 0:g.origin)+"/signup?refferal="+((S=e==null?void 0:e.introducing_broker)==null?void 0:S.refferal_link),style:{cursor:"pointer"},className:`form-control cursor-pointer ${a.country&&r.country&&"is-invalid"}`})]})})]})})]})}),s.jsxs("div",{className:"col-lg-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h5",{children:"Contact Information"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Contact Phone"}),s.jsx("input",{onChange:m,name:"phone",value:b.phone,type:"text",className:`form-control ${a.phone&&r.phone&&"is-invalid"}`,defaultValue:"(+99) 9999 999 999"}),a.phone&&r.phone&&s.jsxs("p",{className:"invalid-feedback",children:[" ",a.phone]})]})}),s.jsx("div",{className:"col-sm-6",children:s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{className:"form-label",children:["Email ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsx("input",{onChange:m,value:b.email,type:"text",name:"email",className:`form-control ${a.email&&r.email&&"is-invalid"}`,defaultValue:"demo@sample.com"}),a.email&&r.email&&s.jsxs("p",{className:"invalid-feedback",children:[" ",a.email]})]})}),s.jsx("div",{className:"col-sm-12",children:s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Address"}),s.jsx("textarea",{onChange:m,value:b.address,name:"address",className:`form-control ${a.address&&r.address&&"is-invalid"}`}),a.address&&r.address&&s.jsxs("p",{className:"invalid-feedback",children:[" ",a.address]})]})})]})})]}),s.jsxs("div",{className:"col-12 text-end btn-page",children:[s.jsx("div",{className:"btn btn-outline-secondary",children:"Cancel"}),s.jsx("div",{className:"btn btn-primary",onClick:p,children:"Update Profile"})]})]})]})]})};function hs(e){const[u,j]=c.useState(),t=async()=>{let i=await ss();i.status==200?j(i.brokers):x.error("Something went wrong")};c.useEffect(()=>{t()},[]);const n=(i,b)=>{let m=JSON.parse(JSON.stringify(u));m[b].broker_link=i,j(m)},v=async(i,b)=>{var a;let m={link:i.broker_link,id:i.id};(await es(m)).status==200&&x.success(((a=i==null?void 0:i.broker)==null?void 0:a.title)+"'s link updated")};return s.jsxs("div",{children:[s.jsx("div",{class:"page-header-title",children:s.jsx("h2",{class:"mb-5",children:"Update Broker Links"})}),u==null?void 0:u.map((i,b)=>{var m,r;return s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("img",{style:{width:"150px"},src:w+((m=i==null?void 0:i.broker)==null?void 0:m.image)}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-6",children:s.jsx("h3",{children:(r=i==null?void 0:i.broker)==null?void 0:r.title})}),s.jsxs("div",{className:"col-md-6 form-group",children:[s.jsx("input",{defaultValue:i==null?void 0:i.broker_link,onChange:a=>{n(a.target.value,b)},className:"form-control ",placeholder:"Enter your broker link"}),s.jsx("div",{className:"text-right pt-3",children:s.jsx("button",{className:"btn btn-success",onClick:()=>{v(i)},children:"Update link"})})]})]})]})},b)})]})}function ms(e){return s.jsxs(F,{children:[s.jsx(y,{path:"/",element:s.jsx(c.Suspense,{fallback:s.jsx(C,{}),children:s.jsx(ts,{})})}),s.jsx(y,{path:"promotions",element:s.jsxs(c.Suspense,{fallback:s.jsx(C,{}),children:[" ",s.jsx(is,{})," "]})}),s.jsx(y,{path:"brokers",element:s.jsxs(c.Suspense,{fallback:s.jsx(C,{}),children:[" ",s.jsx(cs,{})," "]})}),s.jsx(y,{path:"introducing-broker",element:s.jsxs(c.Suspense,{fallback:s.jsx(C,{}),children:[" ",s.jsx(os,{})," "]})}),s.jsx(y,{path:"my-account",element:s.jsxs(c.Suspense,{fallback:s.jsx(C,{}),children:[" ",s.jsx(ds,{})," "]})}),s.jsx(y,{path:"update-broker-links",element:s.jsxs(c.Suspense,{fallback:s.jsx(C,{}),children:[" ",s.jsx(hs,{})," "]})}),s.jsx(y,{path:"client-commissions",element:s.jsxs(c.Suspense,{fallback:s.jsx(C,{}),children:[" ",s.jsx(U,{})," "]})})]})}const xs=c.lazy(()=>T(()=>import("./index-InyMutYT.js"),__vite__mapDeps([0,1,2,3,4])));function fs(){return s.jsxs(Y.Fragment,{children:[s.jsx(xs,{}),s.jsx("section",{className:"pc-container",children:s.jsx("div",{className:"pc-content",children:s.jsx(ms,{})})})]})}export{fs as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-InyMutYT.js","assets/app-Lzmwzzor.js","assets/app-DE5MZvKa.css","assets/Helmet-b_ZHyD0N.js","assets/index-dpfh1WFr.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
