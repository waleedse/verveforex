import{r as c,j as s,L as r,I as x,E as m,F as j,o as p}from"./app-mpnZPNl1.js";const b=()=>{const[a,d]=c.useState([]),l=async()=>{let e=await m();d(e)};c.useEffect(()=>{l()},[]);const o=async e=>{j(e==null?void 0:e.id),l(),p.success("Promotion deleted")};return s.jsx("div",{className:"row",children:s.jsxs("div",{className:"col-sm-12",children:[s.jsx("div",{class:"page-header-title",children:s.jsx("h2",{class:"mb-5",children:"Manage Promotions"})}),s.jsx("div",{className:"card table-card",children:s.jsxs("div",{className:"card-body",children:[s.jsx("div",{className:"text-end p-4 pb-sm-2",children:s.jsxs(r,{to:"/adminpanel/add-promotion",className:"btn btn-primary",children:[s.jsx("i",{className:"ti ti-plus f-18"})," Add Promotion"]})}),s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-hover",id:"pc-dt-simple",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-end",children:"#"}),s.jsx("th",{children:"Promotion Title"}),s.jsx("th",{children:"Website Link"}),s.jsx("th",{children:"Description"}),s.jsx("th",{className:"",children:"Type"}),s.jsx("th",{className:"text-center",children:"Countries"}),s.jsx("th",{children:"Status"}),s.jsx("th",{className:"text-center",children:"Actions"})]})}),s.jsx("tbody",{children:a&&a.map((e,h)=>{var i;return s.jsxs("tr",{children:[s.jsx("td",{className:"text-end",children:e.id}),s.jsx("td",{children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-auto pe-0",children:s.jsx("img",{src:x+e.image,alt:"user-image",className:"wid-40 rounded"})}),s.jsx("div",{className:"col",children:s.jsx("h6",{className:"mb-1",children:e.title})})]})}),s.jsx("td",{children:e.link}),s.jsx("td",{children:e.short_description}),s.jsx("td",{children:e.type==1?"All Countries":"Sepecific Countries"}),s.jsxs("td",{style:{width:"150px"},className:"text-center",children:[!e.countries&&"-",e.countries&&((i=JSON.parse(e.countries))==null?void 0:i.map((t,n)=>s.jsx(s.Fragment,{children:n<3?s.jsx("p",{className:"ml-1 badge bg-light-secondary",children:t==null?void 0:t.name},n):""})))]}),s.jsxs("td",{children:[s.jsx("span",{className:`badge bg-light-${e.status==0?"danger":"success"}  f-12`,children:e.status==0?"Draft":"Active"})," "]}),s.jsx("td",{className:"text-center",children:s.jsxs("ul",{className:"list-inline me-auto mb-0",children:[s.jsx("li",{className:"list-inline-item align-bottom","data-bs-toggle":"tooltip",title:"Edit",children:s.jsx(r,{to:`/adminpanel/edit-promotion/${e.id}`,className:"avtar avtar-xs btn-link-success btn-pc-default",children:s.jsx("i",{className:"ti ti-edit-circle f-18"})})}),s.jsx("li",{onClick:()=>{o(e)},className:"list-inline-item align-bottom","data-bs-toggle":"tooltip",title:"Delete",children:s.jsx("a",{className:"avtar avtar-xs btn-link-danger btn-pc-default",children:s.jsx("i",{className:"ti ti-trash f-18"})})})]})})]},h)})})]})})]})})]})})};export{b as default};
