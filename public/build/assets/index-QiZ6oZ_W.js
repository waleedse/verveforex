import{b as p,d as h,u as w,a as u,j as s,_ as e,m as f}from"./app-Aw1LNYk9.js";import{u as x}from"./index.esm-wbjEyNz_.js";import"./Auth-ExbnaHhZ.js";import{R as j}from"./Auth-_7dRHawu.js";const S=()=>{const i=p();h();const o=w();u();const{formik:g,setFieldValue:N,values:v,handleChange:d,touched:r,errors:a,handleSubmit:n}=x({initialValues:{confirmPassword:"",password:""},validationSchema:j,onSubmit:async c=>{const m=new URLSearchParams(window.location.search).get("email");e.loading("Reseting you password");let t={password_confirmation:c.confirmPassword,password:c.password,token:o==null?void 0:o.token,email:m};await f.post("/api/reset-password",t).then(l=>{e.dismiss(),e.success("Password reset successfully. please login."),i("/login")}).catch(l=>{e.dismiss(),e.error(l.response.data.message),i("/login")})}});return s.jsx("div",{children:s.jsx("div",{className:"auth-main",children:s.jsx("div",{className:"auth-wrapper v1",children:s.jsx("div",{className:"auth-form",children:s.jsx("div",{className:"card my-5",children:s.jsxs("div",{className:"card-body",children:[s.jsx("div",{className:"text-left",children:s.jsx("a",{href:"/",children:s.jsx("img",{src:"/assets/images/logo.png",alt:"img",className:"mb-4 img-fluid"})})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"mb-2",children:s.jsx("b",{children:"Reset Password"})}),s.jsx("p",{className:"text-muted",children:"Please choose your new password"})]}),s.jsxs("form",{onSubmit:n,children:[s.jsxs("div",{className:"form-group mb-3",children:[s.jsx("input",{type:"password",name:"password",onChange:d,className:`form-control ${a.password&&r.password&&"is-invalid"}`,id:"floatingInput",placeholder:"New password"}),a.password&&r.password&&s.jsx("p",{className:"invalid-feedback",children:a.password})]}),s.jsxs("div",{className:"form-group mb-3",children:[s.jsx("input",{type:"password",onChange:d,name:"password",className:`form-control ${a.confirmPassword&&r.confirmPassword&&"is-invalid"}`,id:"floatingInput1",placeholder:"Confrim new password"}),a.confirmPassword&&r.confirmPassword&&s.jsxs("p",{className:"invalid-feedback",children:[" ",a.confirmPassword]})]}),s.jsx("div",{className:"d-grid mt-4",children:s.jsx("button",{type:"submit",onClick:n,className:"btn btn-primary",children:"Reset Password"})})]})]})})})})})})};export{S as default};
